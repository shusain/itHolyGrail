!function(){"use strict";function a(){function a(a){b.directive(a,function(){return{restrict:"C",require:"^holyGrail",link:function(b,c,d,e){e.addPanel(a,c)}}})}for(var c=["westBody","westHead","westFoot","eastBody","eastHead","eastFoot","mainBody","mainHead","mainFoot"],d=c.length-1;d>=0;d--){var e=c[d];a(e)}}var b=angular.module("itHolyGrail",[]);b.service("StyleSheetHandler",function(){var a={};return a.createStyleSheet=function(){if(document.styleSheets&&0!=document.getElementsByTagName("head").length){var a,b="generated",c=document.createElement("style");c.type="text/css",c.title=b,document.getElementsByTagName("head")[0].appendChild(c);for(var d=document.styleSheets.length-1;d>=0;d--)document.styleSheets[d].disabled||document.styleSheets[d].title==b&&(a=document.styleSheets[d]);return{mediaType:typeof a.media,styleSheet:a}}},a.findEnabledScreenStylesheet=function(){if(document.styleSheets&&0!=document.getElementsByTagName("head").length&&document.styleSheets.length>0)for(i=0;i<document.styleSheets.length;i++)if(!document.styleSheets[i].disabled){var a=document.styleSheets[i].media;if(mediaType=typeof a,"string"==mediaType?(""==a||-1!=a.indexOf("screen"))&&(styleSheet=document.styleSheets[i]):"object"==mediaType&&(""==a.mediaText||-1!=a.mediaText.indexOf("screen"))&&(styleSheet=document.styleSheets[i]),"undefined"!=typeof styleSheet)return styleSheet}},a.createCSSSelector=function(b,c){var d=a.baseStyleSheet.styleSheet,e=a.baseStyleSheet.mediaType;if("string"==e){for(var f=0;f<d.rules.length;f++)if(d.rules[f].selectorText&&d.rules[f].selectorText.toLowerCase()==b.toLowerCase())return void(d.rules[f].style.cssText=c);d.addRule(b,c)}else if("object"==e){for(var f=0;f<d.cssRules.length;f++)if(d.cssRules[f].selectorText&&d.cssRules[f].selectorText.toLowerCase()==b.toLowerCase())return void(d.cssRules[f].style.cssText=c);d.insertRule(b+"{"+c+"}",d.cssRules.length)}},a.baseStyleSheet=a.createStyleSheet(),a}).directive("holyGrail",["$window","$timeout","StyleSheetHandler",function(a,b,c){return{restrict:"E",scope:{showWest:"=",showEast:"=",showHead:"=",showFoot:"=",layoutConfig:"="},controller:["$scope",function(a){a.panels=[],this.addPanel=function(b,c){a.panels[b]=c}}],link:function(d,e){function f(a,b){_.forOwn(a,function(a,c,d){"width"==c?b[c]=h(d):angular.isString(a)?b[c]=i(a):angular.isObject(a)&&(b[c]={},g(a,b[c]))})}function g(a,b){f(a,b),q=p.westClassInfo,r=p.eastClassInfo}function h(a){var b=i(a.width),c=i(a.minWidth),d=i(a.maxWidth);return c>b&&(b=c),b>d&&(b=d),Math.ceil(b)}function i(a){var b=parseInt(a);return-1!=a.indexOf("%")?b/100*e[0].offsetWidth:isNaN(b)?0:b}function j(){g(s,p),k()}function k(){if(q){n=q.width,m=r.width;var a={};d.showWest?(a.left=n+p.insideBorder+p.outsideBorder+2*p.insidePadding+"px",d.panels.westBody[0].style.left=d.panels.westHead[0].style.left=d.panels.westFoot[0].style.left=p.outsideBorder+"px"):(a.left=p.outsideBorder+"px",d.panels.westBody[0].style.left=d.panels.westHead[0].style.left=d.panels.westFoot[0].style.left=-(n+2*p.insidePadding)+"px"),d.showEast?(a.right=m+p.insideBorder+p.outsideBorder+2*p.insidePadding+"px",d.panels.eastBody[0].style.right=d.panels.eastHead[0].style.right=d.panels.eastFoot[0].style.right=p.outsideBorder+"px"):(a.right=p.outsideBorder+"px",d.panels.eastBody[0].style.right=d.panels.eastHead[0].style.right=d.panels.eastFoot[0].style.right=-(m+2*p.insidePadding)+"px");var b={};d.showHead?(c.createCSSSelector(".head-row","position: absolute;  top: "+p.outsideBorder+"px;height:"+p.headRowHeight+"px;"),b.top=p.headRowHeight+p.outsideBorder+p.insideBorder+2*p.insidePadding):(b.top=p.outsideBorder,c.createCSSSelector(".head-row","position: absolute;  top: "+-(p.outsideBorder+p.headRowHeight+2*p.insidePadding)+"px;height:"+p.headRowHeight+"px;")),d.showFoot?(c.createCSSSelector(".foot-row","position: absolute;  bottom: "+p.outsideBorder+"px;height:"+p.footRowHeight+"px;"),b.bottom=p.footRowHeight+p.outsideBorder+p.insideBorder+2*p.insidePadding):(b.bottom=p.outsideBorder,c.createCSSSelector(".foot-row","position: absolute;  bottom: "+-(p.outsideBorder+p.footRowHeight+2*p.insidePadding)+"px;height:"+p.footRowHeight+"px;")),c.createCSSSelector(".body-row","position: absolute;  top: "+b.top+"px; bottom: "+b.bottom+"px;"),angular.extend(d.panels.mainBody[0].style,a),angular.extend(d.panels.mainHead[0].style,a),angular.extend(d.panels.mainFoot[0].style,a),c.createCSSSelector(".west-col","position: absolute;  left: "+p.outsideBorder+"px;width: "+q.width+"px;"),c.createCSSSelector(".east-col","position: absolute;  right: "+p.outsideBorder+"px;width: "+r.width+"px;")}}function l(){g(s,p),c.createCSSSelector(".west-col, .main-col, .east-col","padding:"+p.insidePadding+"px;"),c.createCSSSelector(".head-row","position: absolute;  top: "+p.outsideBorder+"px;height:"+p.headRowHeight+"px;"),c.createCSSSelector(".body-row","position: absolute;  top: "+(p.headRowHeight+p.outsideBorder+p.insideBorder+2*p.insidePadding)+"px; bottom: "+(p.footRowHeight+p.outsideBorder+p.insideBorder+2*p.insidePadding)+"px;"),c.createCSSSelector(".foot-row","position: absolute;  bottom: "+p.outsideBorder+"px;height:"+p.footRowHeight+"px;"),c.createCSSSelector(".west-col","position: absolute;  left: "+p.outsideBorder+"px;width: "+q.width+"px;"),c.createCSSSelector(".east-col","position: absolute;  right: "+p.outsideBorder+"px;width: "+r.width+"px;"),c.createCSSSelector(".main-col","left:0px; right:0px"),k(),b(function(){c.createCSSSelector(".head-row, .body-row, .foot-row","transition:"+s.transition+";")})}console.log(e[0].offsetWidth);var m=0,n=0,o={westClassInfo:{width:"20%",minWidth:"60px",maxWidth:"275px"},eastClassInfo:{width:"20%",minWidth:"60px",maxWidth:"275px"},headRowHeight:"60px",footRowHeight:"60px",outsideBorder:"3px",insideBorder:"3px",insidePadding:"9px",transition:"all linear .1s"};angular.extend(o,d.layoutConfig);var p,q,r,s=(p={},o);d.$watch("showWest",k),d.$watch("showEast",k),d.$watch("showHead",k),d.$watch("showFoot",k),angular.element(a).bind("resize",j),angular.element(document).ready(l)}}}]),a()}(),angular.module("component-templates",["component/templates/testTemplate.tpl.html"]),angular.module("component/templates/testTemplate.tpl.html",[]).run(["$templateCache",function(a){a.put("component/templates/testTemplate.tpl.html","<div>testing</div>")}]);